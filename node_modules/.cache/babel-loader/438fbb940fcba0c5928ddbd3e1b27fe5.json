{"remainingRequest":"C:\\Users\\hu_xiaoshan\\vue-sell-cube\\node_modules\\babel-loader\\lib\\index.js??ref--16-1!C:\\Users\\hu_xiaoshan\\vue-sell-cube\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\hu_xiaoshan\\vue-sell-cube\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\hu_xiaoshan\\vue-sell-cube\\src\\components\\tab\\tab.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\hu_xiaoshan\\vue-sell-cube\\src\\components\\tab\\tab.vue","mtime":1584928864000},{"path":"C:\\Users\\hu_xiaoshan\\vue-sell-cube\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hu_xiaoshan\\vue-sell-cube\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\hu_xiaoshan\\vue-sell-cube\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hu_xiaoshan\\vue-sell-cube\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndGFiJywKICBwcm9wczogewogICAgdGFiczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgaW5pdGlhbEluZGV4OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbmRleDogdGhpcy5pbml0aWFsSW5kZXgsCiAgICAgIHNsaWRlT3B0aW9uczogewogICAgICAgIGxpc3RlblNjcm9sbDogdHJ1ZSwKICAgICAgICBwcm9iZVR5cGU6IDMsCiAgICAgICAgZGlyZWN0aW9uTG9ja1RocmVzaG9sZDogMAogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNlbGVjdGVkTGFiZWw6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudGFic1t0aGlzLmluZGV4XS5sYWJlbDsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3VmFsKSB7CiAgICAgICAgdGhpcy5pbmRleCA9IHRoaXMudGFicy5maW5kSW5kZXgoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gdmFsdWUubGFiZWwgPT09IG5ld1ZhbDsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMub25DaGFuZ2UodGhpcy5pbmRleCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoY3VycmVudCkgewogICAgICB0aGlzLmluZGV4ID0gY3VycmVudDsKICAgICAgdmFyIGNvbXBvbmVudCA9IHRoaXMuJHJlZnMuY29tcG9uZW50W2N1cnJlbnRdOwogICAgICBjb21wb25lbnQuZmV0Y2ggJiYgY29tcG9uZW50LmZldGNoKCk7CiAgICB9LAogICAgb25TY3JvbGw6IGZ1bmN0aW9uIG9uU2Nyb2xsKHBvcykgewogICAgICAvLyBjb25zb2xlLmxvZyhwb3MueCkKICAgICAgdmFyIHRhYkJhcldpZHRoID0gdGhpcy4kcmVmcy50YWJCYXIuJGVsLmNsaWVudFdpZHRoOwogICAgICB2YXIgc2xpZGVXaWR0aCA9IHRoaXMuJHJlZnMuc2xpZGUuc2xpZGUuc2Nyb2xsZXJXaWR0aDsKICAgICAgdmFyIHRyYW5zZm9ybSA9IC1wb3MueCAvIHNsaWRlV2lkdGggKiB0YWJCYXJXaWR0aDsKICAgICAgdGhpcy4kcmVmcy50YWJCYXIuc2V0U2xpZGVyVHJhbnNmb3JtKHRyYW5zZm9ybSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["tab.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAFA,sBAEA;AACA,eAAA,EAAA;AACA;AAJA,KADA;AAOA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAFA,sBAEA;AACA,eAAA,CAAA;AACA;AAJA;AAPA,GAFA;AAgBA,EAAA,IAhBA,kBAgBA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KAAA,YADA;AAEA,MAAA,YAAA,EAAA;AACA,QAAA,YAAA,EAAA,IADA;AAEA,QAAA,SAAA,EAAA,CAFA;AAGA,QAAA,sBAAA,EAAA;AAHA;AAFA,KAAA;AAQA,GAzBA;AA0BA,EAAA,QAAA,EAAA;AACA,IAAA,aAAA,EAAA;AACA,MAAA,GADA,iBACA;AACA,eAAA,KAAA,IAAA,CAAA,KAAA,KAAA,EAAA,KAAA;AACA,OAHA;AAIA,MAAA,GAJA,eAIA,MAJA,EAIA;AACA,aAAA,KAAA,GAAA,KAAA,IAAA,CAAA,SAAA,CAAA,UAAA,KAAA,EAAA;AACA,iBAAA,KAAA,CAAA,KAAA,KAAA,MAAA;AACA,SAFA,CAAA;AAGA;AARA;AADA,GA1BA;AAsCA,EAAA,OAtCA,qBAsCA;AACA,SAAA,QAAA,CAAA,KAAA,KAAA;AACA,GAxCA;AAyCA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,OADA,EACA;AACA,WAAA,KAAA,GAAA,OAAA;AACA,UAAA,SAAA,GAAA,KAAA,KAAA,CAAA,SAAA,CAAA,OAAA,CAAA;AACA,MAAA,SAAA,CAAA,KAAA,IAAA,SAAA,CAAA,KAAA,EAAA;AACA,KALA;AAMA,IAAA,QANA,oBAMA,GANA,EAMA;AACA;AACA,UAAA,WAAA,GAAA,KAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,WAAA;AACA,UAAA,UAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,aAAA;AACA,UAAA,SAAA,GAAA,CAAA,GAAA,CAAA,CAAA,GAAA,UAAA,GAAA,WAAA;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,kBAAA,CAAA,SAAA;AACA;AAZA;AAzCA,CAAA","sourcesContent":["<template>\r\n  <div class=\"tab\">\r\n    <cube-tab-bar\r\n      :useTransition=\"false\"\r\n      :showSlider=\"true\"\r\n      v-model=\"selectedLabel\"\r\n      :data=\"tabs\"\r\n      ref=\"tabBar\"\r\n      class=\"border-bottom-1px\"\r\n    >\r\n    </cube-tab-bar>\r\n    <div class=\"slide-wrapper\">\r\n      <cube-slide\r\n        :loop=\"false\"\r\n        :auto-play=\"false\"\r\n        :show-dots=\"false\"\r\n        :initial-index=\"index\"\r\n        ref=\"slide\"\r\n        @change=\"onChange\"\r\n        @scroll=\"onScroll\"\r\n        :options=\"slideOptions\"\r\n      >\r\n        <cube-slide-item v-for=\"(tab,index) in tabs\" :key=\"index\">\r\n          <component :is=\"tab.component\" :data=\"tab.data\" ref=\"component\"></component>\r\n        </cube-slide-item>\r\n      </cube-slide>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'tab',\r\n    props: {\r\n      tabs: {\r\n        type: Array,\r\n        default() {\r\n          return []\r\n        }\r\n      },\r\n      initialIndex: {\r\n        type: Number,\r\n        default() {\r\n          return 0\r\n        }\r\n      }\r\n    },\r\n    data () {\r\n      return {\r\n        index: this.initialIndex,\r\n        slideOptions: {\r\n          listenScroll: true,\r\n          probeType: 3,\r\n          directionLockThreshold: 0\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      selectedLabel: {\r\n        get () {\r\n          return this.tabs[this.index].label\r\n        },\r\n        set (newVal) {\r\n          this.index = this.tabs.findIndex((value) => {\r\n            return value.label === newVal\r\n          })\r\n        }\r\n      }\r\n    },\r\n    mounted () {\r\n      this.onChange(this.index)\r\n    },\r\n    methods: {\r\n      onChange (current) {\r\n        this.index = current\r\n        const component = this.$refs.component[current]\r\n        component.fetch && component.fetch()\r\n      },\r\n      onScroll (pos) {\r\n        // console.log(pos.x)\r\n        const tabBarWidth = this.$refs.tabBar.$el.clientWidth\r\n        const slideWidth = this.$refs.slide.slide.scrollerWidth\r\n        const transform = -pos.x / slideWidth * tabBarWidth\r\n        this.$refs.tabBar.setSliderTransform(transform)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n\r\n  .tab\r\n    >>> .cube-tab\r\n      padding: 10px 0\r\n</style>\r\n"],"sourceRoot":"src/components/tab"}]}