{"remainingRequest":"C:\\Users\\hu_xiaoshan\\hxs\\vue-test\\node_modules\\babel-loader\\lib\\index.js??ref--16-1!C:\\Users\\hu_xiaoshan\\hxs\\vue-test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\hu_xiaoshan\\hxs\\vue-test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\hu_xiaoshan\\hxs\\vue-test\\src\\components\\shop-cart\\shop-cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\hu_xiaoshan\\hxs\\vue-test\\src\\components\\shop-cart\\shop-cart.vue","mtime":1586321680681},{"path":"C:\\Users\\hu_xiaoshan\\hxs\\vue-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hu_xiaoshan\\hxs\\vue-test\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\hu_xiaoshan\\hxs\\vue-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hu_xiaoshan\\hxs\\vue-test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEJ1YmJsZSBmcm9tICdjb21wb25lbnRzL2J1YmJsZS9idWJibGUnOwp2YXIgQkFMTF9MRU4gPSAxMDsKdmFyIGlubmVyQ2xzSG9vayA9ICdpbm5lci1ob29rJzsKCmZ1bmN0aW9uIGNyZWF0ZUJhbGxzKCkgewogIHZhciBiYWxscyA9IFtdOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IEJBTExfTEVOOyBpKyspIHsKICAgIGJhbGxzLnB1c2goewogICAgICBzaG93OiBmYWxzZQogICAgfSk7CiAgfQoKICByZXR1cm4gYmFsbHM7Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnc2hvcC1jYXJ0JywKICBwcm9wczogewogICAgZGVsaXZlcnlQcmljZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiAwOwogICAgICB9CiAgICB9LAogICAgbWluUHJpY2U6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgc2VsZWN0Rm9vZHM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIGZvbGQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIHN0aWNreTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJhbGxzOiBjcmVhdGVCYWxscygpLAogICAgICBsaXN0Rm9sZDogdGhpcy5mb2xkCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRvdGFsUHJpY2U6IGZ1bmN0aW9uIHRvdGFsUHJpY2UoKSB7CiAgICAgIHZhciBwcmljZSA9IDA7CiAgICAgIHRoaXMuc2VsZWN0Rm9vZHMuZm9yRWFjaChmdW5jdGlvbiAoZm9vZCkgewogICAgICAgIGlmIChmb29kLmNvdW50KSB7CiAgICAgICAgICBwcmljZSArPSBmb29kLmNvdW50ICogZm9vZC5wcmljZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gcHJpY2U7CiAgICB9LAogICAgdG90YWxDb3VudDogZnVuY3Rpb24gdG90YWxDb3VudCgpIHsKICAgICAgdmFyIGNvdW50ID0gMDsKICAgICAgdGhpcy5zZWxlY3RGb29kcy5mb3JFYWNoKGZ1bmN0aW9uIChmb29kKSB7CiAgICAgICAgaWYgKGZvb2QuY291bnQpIHsKICAgICAgICAgIGNvdW50ICs9IGZvb2QuY291bnQ7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGNvdW50OwogICAgfSwKICAgIHBheUNsYXNzOiBmdW5jdGlvbiBwYXlDbGFzcygpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0Rm9vZHMuY291bnQgfHwgdGhpcy50b3RhbFByaWNlIDwgdGhpcy5taW5QcmljZSkgewogICAgICAgIHJldHVybiAnbm90LWVub3VnaCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdlbm91Z2gnOwogICAgICB9CiAgICB9LAogICAgcGF5RGVzYzogZnVuY3Rpb24gcGF5RGVzYygpIHsKICAgICAgaWYgKHRoaXMudG90YWxQcmljZSA9PT0gMCkgewogICAgICAgIHJldHVybiAiXHVGRkU1Ii5jb25jYXQodGhpcy5taW5QcmljZSwgIlx1NTE0M1x1OEQ3N1x1OTAwMSIpOwogICAgICB9IGVsc2UgaWYgKHRoaXMudG90YWxQcmljZSA8IHRoaXMubWluUHJpY2UpIHsKICAgICAgICB2YXIgZGlmZiA9IHRoaXMubWluUHJpY2UgLSB0aGlzLnRvdGFsUHJpY2U7CiAgICAgICAgcmV0dXJuICJcdThGRDhcdTVERUUiLmNvbmNhdChkaWZmLCAiXHU1MTQzXHU4RDc3XHU5MDAxIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICfljrvnu5PnrpcnOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5kcm9wQmFsbHMgPSBbXTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRyb3A6IGZ1bmN0aW9uIGRyb3AoZWwpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJhbGxzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKCF0aGlzLmJhbGxzW2ldLnNob3cpIHsKICAgICAgICAgIHZhciBiYWxsID0gdGhpcy5iYWxsc1tpXTsKICAgICAgICAgIGJhbGwuc2hvdyA9IHRydWU7CiAgICAgICAgICBiYWxsLmVsID0gZWw7CiAgICAgICAgICB0aGlzLmRyb3BCYWxscy5wdXNoKGJhbGwpOyAvLyBjb25zb2xlLmxvZyhiYWxsLnNob3cpCgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHBheTogZnVuY3Rpb24gcGF5KCkgewogICAgICBpZiAodGhpcy50b3RhbFByaWNlIDwgdGhpcy5taW5QcmljZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5kaWFsb2dDb21wID0gdGhpcy4kY3JlYXRlRGlhbG9nKHsKICAgICAgICAkcHJvcHM6IHsKICAgICAgICAgIHRpdGxlOiAn5pSv5LuYJywKICAgICAgICAgIGNvbnRlbnQ6ICJcdTY1MkZcdTRFRDgiLmNvbmNhdCh0aGlzLnRvdGFsUHJpY2UsICJcdTUxNDMiKQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuZGlhbG9nQ29tcC5zaG93KCk7CiAgICB9LAogICAgdG9nZ2xlTGlzdDogZnVuY3Rpb24gdG9nZ2xlTGlzdCgpIHsKICAgICAgaWYgKHRoaXMubGlzdEZvbGQpIHsKICAgICAgICBpZiAoIXRoaXMudG90YWxDb3VudCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5saXN0Rm9sZCA9IGZhbHNlOwoKICAgICAgICB0aGlzLl9zaG93U2hvcENhcnRMaXN0KCk7CgogICAgICAgIHRoaXMuX3Nob3dTaG9wQ2FydFN0aWNreSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubGlzdEZvbGQgPSB0cnVlOwoKICAgICAgICB0aGlzLl9oaWRlU2hvcENhcnRMaXN0KCk7CiAgICAgIH0KICAgIH0sCiAgICBfc2hvd1Nob3BDYXJ0TGlzdDogZnVuY3Rpb24gX3Nob3dTaG9wQ2FydExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnNob3BDYXJ0TGlzdENvbXAgPSB0aGlzLnNob3BDYXJ0TGlzdENvbXAgfHwgdGhpcy4kY3JlYXRlU2hvcENhcnRMaXN0KHsKICAgICAgICAkcHJvcHM6IHsKICAgICAgICAgIHNlbGVjdEZvb2RzOiAnc2VsZWN0Rm9vZHMnCiAgICAgICAgfSwKICAgICAgICAkZXZlbnRzOiB7CiAgICAgICAgICBoaWRlOiBmdW5jdGlvbiBoaWRlKCkgewogICAgICAgICAgICBfdGhpcy5saXN0Rm9sZCA9IHRydWU7CiAgICAgICAgICB9LAogICAgICAgICAgbGVhdmU6IGZ1bmN0aW9uIGxlYXZlKCkgewogICAgICAgICAgICBfdGhpcy5faGlkZVNob3BDYXJ0U3RpY2t5KCk7CiAgICAgICAgICB9LAogICAgICAgICAgYWRkOiBmdW5jdGlvbiBhZGQoZWwpIHsKICAgICAgICAgICAgX3RoaXMuc2hvcENhcnRTdGlja0NvbXAuZHJvcChlbCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5zaG9wQ2FydExpc3RDb21wLnNob3coKTsKICAgIH0sCiAgICBfc2hvd1Nob3BDYXJ0U3RpY2t5OiBmdW5jdGlvbiBfc2hvd1Nob3BDYXJ0U3RpY2t5KCkgewogICAgICB0aGlzLnNob3BDYXJ0U3RpY2tDb21wID0gdGhpcy5zaG9wQ2FydFN0aWNrQ29tcCB8fCB0aGlzLiRjcmVhdGVTaG9wQ2FydFN0aWNreSh7CiAgICAgICAgJHByb3BzOiB7CiAgICAgICAgICBzZWxlY3RGb29kczogJ3NlbGVjdEZvb2RzJywKICAgICAgICAgIGRlbGl2ZXJ5UHJpY2U6ICdkZWxpdmVyeVByaWNlJywKICAgICAgICAgIG1pblByaWNlOiAnbWluUHJpY2UnLAogICAgICAgICAgZm9sZDogJ2xpc3RGb2xkJywKICAgICAgICAgIGxpc3Q6IHRoaXMuc2hvcENhcnRMaXN0Q29tcAogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuc2hvcENhcnRTdGlja0NvbXAuc2hvdygpOwogICAgfSwKICAgIF9oaWRlU2hvcENhcnRMaXN0OiBmdW5jdGlvbiBfaGlkZVNob3BDYXJ0TGlzdCgpIHsKICAgICAgdmFyIGNvbXAgPSB0aGlzLnN0aWNreSA/IHRoaXMuJHBhcmVudC5saXN0IDogdGhpcy5zaG9wQ2FydFN0aWNrQ29tcDsKICAgICAgY29tcC5oaWRlICYmIGNvbXAuaGlkZSgpOwogICAgfSwKICAgIF9oaWRlU2hvcENhcnRTdGlja3k6IGZ1bmN0aW9uIF9oaWRlU2hvcENhcnRTdGlja3koKSB7CiAgICAgIHRoaXMuc2hvcENhcnRTdGlja0NvbXAuaGlkZSgpOwogICAgfSwKICAgIGJlZm9yZURyb3A6IGZ1bmN0aW9uIGJlZm9yZURyb3AoZWwpIHsKICAgICAgdmFyIGJhbGwgPSB0aGlzLmRyb3BCYWxsc1t0aGlzLmRyb3BCYWxscy5sZW5ndGggLSAxXTsKICAgICAgdmFyIHJlY3QgPSBiYWxsLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICB2YXIgeCA9IHJlY3QubGVmdCAtIDMyOwogICAgICB2YXIgeSA9IC0od2luZG93LmlubmVySGVpZ2h0IC0gcmVjdC50b3AgLSAyMik7CiAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgICAgZWwuc3R5bGUudHJhbnNmb3JtID0gZWwuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gInRyYW5zbGF0ZTNkKDAsICIuY29uY2F0KHksICJweCwgMCkiKTsKICAgICAgdmFyIGlubmVyID0gZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShpbm5lckNsc0hvb2spWzBdOwogICAgICBpbm5lci5zdHlsZS50cmFuc2Zvcm0gPSBpbm5lci5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSAidHJhbnNsYXRlM2QoIi5jb25jYXQoeCwgInB4LCAwLCAwKSIpOwogICAgfSwKICAgIGRyb3BwaW5nOiBmdW5jdGlvbiBkcm9wcGluZyhlbCwgZG9uZSkgewogICAgICB0aGlzLl9yZWZsb3cgPSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDsKICAgICAgZWwuc3R5bGUudHJhbnNmb3JtID0gZWwuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gJ3RyYW5zbGF0ZTNkKDAsIDAsIDApJzsKICAgICAgdmFyIGlubmVyID0gZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShpbm5lckNsc0hvb2spWzBdOwogICAgICBpbm5lci5zdHlsZS50cmFuc2Zvcm0gPSBpbm5lci5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSAndHJhbnNsYXRlM2QoMCwgMCwgMCknOwogICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgZG9uZSk7CiAgICB9LAogICAgYWZ0ZXJEcm9wOiBmdW5jdGlvbiBhZnRlckRyb3AoZWwpIHsKICAgICAgdmFyIGJhbGwgPSB0aGlzLmRyb3BCYWxscy5zaGlmdCgpOwoKICAgICAgaWYgKGJhbGwpIHsKICAgICAgICBiYWxsLnNob3cgPSBmYWxzZTsKICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZm9sZDogZnVuY3Rpb24gZm9sZChuZXdWYWwpIHsKICAgICAgdGhpcy5saXN0Rm9sZCA9IG5ld1ZhbDsKICAgIH0sCiAgICB0b3RhbENvdW50OiBmdW5jdGlvbiB0b3RhbENvdW50KG5ld1ZhbCkgewogICAgICBpZiAoIXRoaXMubGlzdEZvbGQgJiYgIW5ld1ZhbCkgewogICAgICAgIHRoaXMuX2hpZGVTaG9wQ2FydExpc3QoKTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgQnViYmxlOiBCdWJibGUKICB9Cn07"},{"version":3,"sources":["shop-cart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div class=\"shop-cart\">\r\n  <div class=\"content\" @click=\"toggleList\">\r\n    <div class=\"content-left\">\r\n      <div class=\"logo-wrapper\">\r\n        <div class=\"logo\" :class=\"{'highlight': totalCount>0}\">\r\n          <i class=\"icon-shopping_cart\" :class=\"{'highlight': totalCount>0}\"></i>\r\n        </div>\r\n        <div class=\"num\" v-show=\"totalCount>0\">\r\n          <bubble :num=\"totalCount\"></bubble>\r\n        </div>\r\n      </div>\r\n      <div class=\"price\" :class=\"{'highlight': totalPrice>0}\">￥{{totalPrice}}</div>\r\n      <div class=\"desc\">另需配送费{{deliveryPrice}}</div>\r\n    </div>\r\n    <div class=\"content-right\">\r\n      <div @click.stop=\"pay\" class=\"pay\" :class=\"payClass\">{{payDesc}}</div>\r\n    </div>\r\n  </div>\r\n  <div class=\"ball-container\">\r\n    <div v-for=\"(ball,index) in balls\" :key=\"index\">\r\n      <transition\r\n        @before-enter=\"beforeDrop\"\r\n        @enter=\"dropping\"\r\n        @after-enter=\"afterDrop\"\r\n      >\r\n        <div class=\"ball\" v-show=\"ball.show\">\r\n          <div class=\"inner inner-hook\"></div>\r\n        </div>\r\n      </transition>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n  import Bubble from 'components/bubble/bubble'\r\n\r\n  const BALL_LEN = 10\r\n\r\n  const innerClsHook = 'inner-hook'\r\n  function createBalls () {\r\n    const balls = []\r\n    for (let i = 0; i < BALL_LEN; i++) {\r\n      balls.push({\r\n        show: false\r\n      })\r\n    }\r\n    return balls\r\n  }\r\n\r\n  export default {\r\n    name: 'shop-cart',\r\n    props: {\r\n      deliveryPrice: {\r\n        type: Number,\r\n        default() {\r\n          return 0\r\n        }\r\n      },\r\n      minPrice: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      selectFoods: {\r\n        type: Array,\r\n        default () {\r\n          return []\r\n        }\r\n      },\r\n      fold: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      sticky: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        balls: createBalls(),\r\n        listFold: this.fold\r\n      }\r\n    },\r\n    computed: {\r\n      totalPrice() {\r\n        let price = 0\r\n        this.selectFoods.forEach((food) => {\r\n          if (food.count) {\r\n            price += food.count * food.price\r\n          }\r\n        })\r\n        return price\r\n      },\r\n      totalCount() {\r\n        let count = 0\r\n        this.selectFoods.forEach((food) => {\r\n          if (food.count) {\r\n            count += food.count\r\n          }\r\n        })\r\n        return count\r\n      },\r\n      payClass() {\r\n        if (this.selectFoods.count || this.totalPrice < this.minPrice) {\r\n          return 'not-enough'\r\n        } else {\r\n          return 'enough'\r\n        }\r\n      },\r\n      payDesc() {\r\n        if (this.totalPrice === 0) {\r\n          return `￥${this.minPrice}元起送`\r\n        } else if (this.totalPrice < this.minPrice) {\r\n          const diff = this.minPrice - this.totalPrice\r\n          return `还差${diff}元起送`\r\n        } else {\r\n          return '去结算'\r\n        }\r\n      }\r\n    },\r\n    created () {\r\n      this.dropBalls = []\r\n    },\r\n    methods: {\r\n      drop(el) {\r\n        for (let i = 0; i < this.balls.length; i++) {\r\n          if (!this.balls[i].show) {\r\n            const ball = this.balls[i]\r\n            ball.show = true\r\n            ball.el = el\r\n            this.dropBalls.push(ball)\r\n            // console.log(ball.show)\r\n            return\r\n          }\r\n        }\r\n      },\r\n      pay() {\r\n        if (this.totalPrice < this.minPrice) {\r\n          return\r\n        }\r\n        this.dialogComp = this.$createDialog({\r\n          $props: {\r\n            title: '支付',\r\n            content: `支付${this.totalPrice}元`\r\n          }\r\n        })\r\n        this.dialogComp.show()\r\n      },\r\n      toggleList() {\r\n        if (this.listFold) {\r\n          if (!this.totalCount) {\r\n            return\r\n          }\r\n          this.listFold = false\r\n          this._showShopCartList()\r\n          this._showShopCartSticky()\r\n        } else {\r\n          this.listFold = true\r\n          this._hideShopCartList()\r\n        }\r\n      },\r\n      _showShopCartList() {\r\n        this.shopCartListComp = this.shopCartListComp || this.$createShopCartList({\r\n          $props: {\r\n            selectFoods: 'selectFoods'\r\n          },\r\n          $events: {\r\n            hide: () => {\r\n              this.listFold = true\r\n            },\r\n            leave: () => {\r\n              this._hideShopCartSticky()\r\n            },\r\n            add: (el) => {\r\n              this.shopCartStickComp.drop(el)\r\n            }\r\n          }\r\n        })\r\n        this.shopCartListComp.show()\r\n      },\r\n      _showShopCartSticky() {\r\n        this.shopCartStickComp = this.shopCartStickComp || this.$createShopCartSticky({\r\n          $props: {\r\n            selectFoods: 'selectFoods',\r\n            deliveryPrice: 'deliveryPrice',\r\n            minPrice: 'minPrice',\r\n            fold: 'listFold',\r\n            list: this.shopCartListComp\r\n          }\r\n        })\r\n        this.shopCartStickComp.show()\r\n      },\r\n      _hideShopCartList() {\r\n        const comp = this.sticky ? this.$parent.list : this.shopCartStickComp\r\n        comp.hide && comp.hide()\r\n      },\r\n      _hideShopCartSticky() {\r\n        this.shopCartStickComp.hide()\r\n      },\r\n      beforeDrop(el) {\r\n        const ball = this.dropBalls[this.dropBalls.length - 1]\r\n        const rect = ball.el.getBoundingClientRect()\r\n        const x = rect.left - 32\r\n        const y = -(window.innerHeight - rect.top - 22)\r\n        el.style.display = ''\r\n        el.style.transform = el.style.webkitTransform = `translate3d(0, ${y}px, 0)`\r\n        const inner = el.getElementsByClassName(innerClsHook)[0]\r\n        inner.style.transform = inner.style.webkitTransform = `translate3d(${x}px, 0, 0)`\r\n      },\r\n      dropping(el, done) {\r\n        this._reflow = document.body.offsetHeight\r\n        el.style.transform = el.style.webkitTransform = 'translate3d(0, 0, 0)'\r\n        const inner = el.getElementsByClassName(innerClsHook)[0]\r\n        inner.style.transform = inner.style.webkitTransform = 'translate3d(0, 0, 0)'\r\n        el.addEventListener('transitionend', done)\r\n      },\r\n      afterDrop(el) {\r\n        const ball = this.dropBalls.shift()\r\n        if (ball) {\r\n          ball.show = false\r\n          el.style.display = 'none'\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      fold(newVal) {\r\n        this.listFold = newVal\r\n      },\r\n      totalCount(newVal) {\r\n        if (!this.listFold && !newVal) {\r\n          this._hideShopCartList()\r\n        }\r\n      }\r\n    },\r\n    components: {\r\n      Bubble\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n  @import \"~common/stylus/mixin\"\r\n  @import \"~common/stylus/variable\"\r\n  .shop-cart\r\n    height: 100%\r\n    .content\r\n      display: flex\r\n      background-color: $color-background\r\n      color: $color-light-grey\r\n      .content-left\r\n        flex: 1\r\n        .logo-wrapper\r\n          position: relative\r\n          display: inline-block\r\n          vertical-align: top\r\n          top: -10px\r\n          margin: 0 12px\r\n          padding: 6px\r\n          height: 56px\r\n          width: 56px\r\n          box-sizing: border-box\r\n          border-radius: 50%\r\n          background-color: $color-background\r\n          .logo\r\n            width: 100%\r\n            height: 100%\r\n            border-radius: 50%\r\n            text-align: center\r\n            background-color: $color-dark-grey\r\n            &.highlight\r\n              background-color: $color-blue\r\n            .icon-shopping_cart\r\n              line-height: 44px\r\n              font-size: $fontsize-large-xxx\r\n              color: $color-light-grey\r\n              &.highlight\r\n                color: $color-white\r\n          .num\r\n            position: absolute\r\n            top: 0\r\n            right: 0\r\n        .price\r\n          display: inline-block\r\n          vertical-align: top\r\n          margin-top: 12px\r\n          padding-right: 12px\r\n          box-sizing: border-box\r\n          border-right: 1px solid rgba(255, 255, 255, 0.1)\r\n          font-weight: 700\r\n          font-size: $fontsize-large\r\n          &.highlight\r\n            color: $color-white\r\n        .desc\r\n          display: inline-block\r\n          vertical-align: top\r\n          margin: 12px 0 0 12px\r\n          line-height: 24px\r\n          font-size: $fontsize-small-s\r\n      .content-right\r\n        flex: 0 0 105px\r\n        .pay\r\n          height: 48px\r\n          line-height: 48px\r\n          text-align: center\r\n          font-weight: 700\r\n          font-size: $fontsize-small\r\n          &.not-enough\r\n            background-color: $color-dark-grey\r\n          &.enough\r\n            background: $color-green\r\n            color: $color-white\r\n    .ball-container\r\n      .ball\r\n        position: fixed\r\n        left: 32px\r\n        bottom: 22px\r\n        z-index: 200\r\n        transition: all 0.4s cubic-bezier(0.49, -0.29, 0.75, 0.41)\r\n        .inner\r\n          width: 16px\r\n          height: 16px\r\n          border-radius: 50%\r\n          background-color: $color-blue\r\n          transition: all 0.4s linear\r\n</style>\r\n"],"sourceRoot":"src/components/shop-cart"}]}